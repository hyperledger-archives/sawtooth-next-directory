<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="584px" preserveAspectRatio="none" style="width:1280px;height:584px;" version="1.1" viewBox="0 0 1280 584" width="1280px" zoomAndPan="magnify"><defs><filter height="300%" id="f1iep5vbz6tf0p" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="1.6"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="3.2" dy="3.2" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="11.2" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="288.8" x="492" y="18.3961">RBAC NonProposals OutboundSync Sequence</text><line style="stroke: #A80036; stroke-width: 0.8; stroke-dasharray: 5.0,5.0;" x1="34.4" x2="34.4" y1="93.275" y2="512.575"/><line style="stroke: #A80036; stroke-width: 0.8; stroke-dasharray: 5.0,5.0;" x1="89.6" x2="89.6" y1="93.275" y2="512.575"/><line style="stroke: #A80036; stroke-width: 0.8; stroke-dasharray: 5.0,5.0;" x1="148.8" x2="148.8" y1="93.275" y2="512.575"/><line style="stroke: #A80036; stroke-width: 0.8; stroke-dasharray: 5.0,5.0;" x1="305.2" x2="305.2" y1="93.275" y2="512.575"/><line style="stroke: #A80036; stroke-width: 0.8; stroke-dasharray: 5.0,5.0;" x1="518.8" x2="518.8" y1="93.275" y2="512.575"/><line style="stroke: #A80036; stroke-width: 0.8; stroke-dasharray: 5.0,5.0;" x1="692.8" x2="692.8" y1="93.275" y2="512.575"/><line style="stroke: #A80036; stroke-width: 0.8; stroke-dasharray: 5.0,5.0;" x1="759.2" x2="759.2" y1="93.275" y2="512.575"/><line style="stroke: #A80036; stroke-width: 0.8; stroke-dasharray: 5.0,5.0;" x1="835.2" x2="835.2" y1="93.275" y2="512.575"/><line style="stroke: #A80036; stroke-width: 0.8; stroke-dasharray: 5.0,5.0;" x1="912.8" x2="912.8" y1="93.275" y2="512.575"/><line style="stroke: #A80036; stroke-width: 0.8; stroke-dasharray: 5.0,5.0;" x1="992.8" x2="992.8" y1="93.275" y2="512.575"/><line style="stroke: #A80036; stroke-width: 0.8; stroke-dasharray: 5.0,5.0;" x1="1187.2" x2="1187.2" y1="93.275" y2="512.575"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacingAndGlyphs" textLength="51.2" x="6.4" y="90.6336">Azure AD</text><path d="M18,57.8375 L18,77.0375 M18,67.4375 L31.6,67.4375 " fill="none" filter="url(#f1iep5vbz6tf0p)" style="stroke: #A80036; stroke-width: 1.6;"/><ellipse cx="41.2" cy="67.4375" fill="#FEFECE" filter="url(#f1iep5vbz6tf0p)" rx="9.6" ry="9.6" style="stroke: #A80036; stroke-width: 1.6;"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacingAndGlyphs" textLength="51.2" x="6.4" y="522.1711">Azure AD</text><path d="M18,528.0125 L18,547.2125 M18,537.6125 L31.6,537.6125 " fill="none" filter="url(#f1iep5vbz6tf0p)" style="stroke: #A80036; stroke-width: 1.6;"/><ellipse cx="41.2" cy="537.6125" fill="#FEFECE" filter="url(#f1iep5vbz6tf0p)" rx="9.6" ry="9.6" style="stroke: #A80036; stroke-width: 1.6;"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacingAndGlyphs" textLength="28.8" x="73.2" y="90.6336">LDAP</text><path d="M73.6,57.8375 L73.6,77.0375 M73.6,67.4375 L87.2,67.4375 " fill="none" filter="url(#f1iep5vbz6tf0p)" style="stroke: #A80036; stroke-width: 1.6;"/><ellipse cx="96.8" cy="67.4375" fill="#FEFECE" filter="url(#f1iep5vbz6tf0p)" rx="9.6" ry="9.6" style="stroke: #A80036; stroke-width: 1.6;"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacingAndGlyphs" textLength="28.8" x="73.2" y="522.1711">LDAP</text><path d="M73.6,528.0125 L73.6,547.2125 M73.6,537.6125 L87.2,537.6125 " fill="none" filter="url(#f1iep5vbz6tf0p)" style="stroke: #A80036; stroke-width: 1.6;"/><ellipse cx="96.8" cy="537.6125" fill="#FEFECE" filter="url(#f1iep5vbz6tf0p)" rx="9.6" ry="9.6" style="stroke: #A80036; stroke-width: 1.6;"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacingAndGlyphs" textLength="58.4" x="117.6" y="90.6336">Basic User</text><ellipse cx="149.2" cy="34.6375" fill="#FEFECE" filter="url(#f1iep5vbz6tf0p)" rx="6.4" ry="6.4" style="stroke: #A80036; stroke-width: 1.6;"/><path d="M149.2,41.0375 L149.2,62.6375 M138.8,47.4375 L159.6,47.4375 M149.2,62.6375 L138.8,74.6375 M149.2,62.6375 L159.6,74.6375 " fill="none" filter="url(#f1iep5vbz6tf0p)" style="stroke: #A80036; stroke-width: 1.6;"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacingAndGlyphs" textLength="58.4" x="117.6" y="522.1711">Basic User</text><ellipse cx="149.2" cy="532.8125" fill="#FEFECE" filter="url(#f1iep5vbz6tf0p)" rx="6.4" ry="6.4" style="stroke: #A80036; stroke-width: 1.6;"/><path d="M149.2,539.2125 L149.2,560.8125 M138.8,545.6125 L159.6,545.6125 M149.2,560.8125 L138.8,572.8125 M149.2,560.8125 L159.6,572.8125 " fill="none" filter="url(#f1iep5vbz6tf0p)" style="stroke: #A80036; stroke-width: 1.6;"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacingAndGlyphs" textLength="65.6" x="270" y="90.6336">RBAC Client</text><path d="M288.8,57.8375 L288.8,77.0375 M288.8,67.4375 L302.4,67.4375 " fill="none" filter="url(#f1iep5vbz6tf0p)" style="stroke: #A80036; stroke-width: 1.6;"/><ellipse cx="312" cy="67.4375" fill="#ADD8E6" filter="url(#f1iep5vbz6tf0p)" rx="9.6" ry="9.6" style="stroke: #A80036; stroke-width: 1.6;"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacingAndGlyphs" textLength="65.6" x="270" y="522.1711">RBAC Client</text><path d="M288.8,528.0125 L288.8,547.2125 M288.8,537.6125 L302.4,537.6125 " fill="none" filter="url(#f1iep5vbz6tf0p)" style="stroke: #A80036; stroke-width: 1.6;"/><ellipse cx="312" cy="537.6125" fill="#ADD8E6" filter="url(#f1iep5vbz6tf0p)" rx="9.6" ry="9.6" style="stroke: #A80036; stroke-width: 1.6;"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacingAndGlyphs" textLength="31.2" x="499.2" y="64.5586">RBAC</text><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacingAndGlyphs" textLength="49.6" x="490" y="77.5961">REST API</text><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacingAndGlyphs" textLength="35.2" x="498.8" y="90.6336">Server</text><ellipse cx="518.8" cy="41.3625" fill="#ADD8E6" filter="url(#f1iep5vbz6tf0p)" rx="9.6" ry="9.6" style="stroke: #A80036; stroke-width: 1.6;"/><line style="stroke: #A80036; stroke-width: 1.6;" x1="509.2" x2="528.4" y1="52.5625" y2="52.5625"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacingAndGlyphs" textLength="31.2" x="499.2" y="522.1711">RBAC</text><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacingAndGlyphs" textLength="49.6" x="490" y="535.2086">REST API</text><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacingAndGlyphs" textLength="35.2" x="498.8" y="548.2461">Server</text><ellipse cx="518.8" cy="563.6875" fill="#ADD8E6" filter="url(#f1iep5vbz6tf0p)" rx="9.6" ry="9.6" style="stroke: #A80036; stroke-width: 1.6;"/><line style="stroke: #A80036; stroke-width: 1.6;" x1="509.2" x2="528.4" y1="574.8875" y2="574.8875"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacingAndGlyphs" textLength="47.2" x="667.2" y="90.6336">Validator</text><path d="M676.8,57.8375 L676.8,77.0375 M676.8,67.4375 L690.4,67.4375 " fill="none" filter="url(#f1iep5vbz6tf0p)" style="stroke: #A80036; stroke-width: 1.6;"/><ellipse cx="700" cy="67.4375" fill="#D3D3D3" filter="url(#f1iep5vbz6tf0p)" rx="9.6" ry="9.6" style="stroke: #A80036; stroke-width: 1.6;"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacingAndGlyphs" textLength="47.2" x="667.2" y="522.1711">Validator</text><path d="M676.8,528.0125 L676.8,547.2125 M676.8,537.6125 L690.4,537.6125 " fill="none" filter="url(#f1iep5vbz6tf0p)" style="stroke: #A80036; stroke-width: 1.6;"/><ellipse cx="700" cy="537.6125" fill="#D3D3D3" filter="url(#f1iep5vbz6tf0p)" rx="9.6" ry="9.6" style="stroke: #A80036; stroke-width: 1.6;"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacingAndGlyphs" textLength="59.2" x="727.2" y="90.6336">RethinkDB</text><path d="M744.8,51.4375 C744.8,43.4375 759.2,43.4375 759.2,43.4375 C759.2,43.4375 773.6,43.4375 773.6,51.4375 L773.6,72.2375 C773.6,80.2375 759.2,80.2375 759.2,80.2375 C759.2,80.2375 744.8,80.2375 744.8,72.2375 L744.8,51.4375 " fill="#ADD8E6" filter="url(#f1iep5vbz6tf0p)" style="stroke: #000000; stroke-width: 1.2000000000000002;"/><path d="M744.8,51.4375 C744.8,59.4375 759.2,59.4375 759.2,59.4375 C759.2,59.4375 773.6,59.4375 773.6,51.4375 " fill="none" style="stroke: #000000; stroke-width: 1.2000000000000002;"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacingAndGlyphs" textLength="59.2" x="727.2" y="522.1711">RethinkDB</text><path d="M744.8,532.8125 C744.8,524.8125 759.2,524.8125 759.2,524.8125 C759.2,524.8125 773.6,524.8125 773.6,532.8125 L773.6,553.6125 C773.6,561.6125 759.2,561.6125 759.2,561.6125 C759.2,561.6125 744.8,561.6125 744.8,553.6125 L744.8,532.8125 " fill="#ADD8E6" filter="url(#f1iep5vbz6tf0p)" style="stroke: #000000; stroke-width: 1.2000000000000002;"/><path d="M744.8,532.8125 C744.8,540.8125 759.2,540.8125 759.2,540.8125 C759.2,540.8125 773.6,540.8125 773.6,532.8125 " fill="none" style="stroke: #000000; stroke-width: 1.2000000000000002;"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacingAndGlyphs" textLength="31.2" x="816" y="64.5586">RBAC</text><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacingAndGlyphs" textLength="64.8" x="799.2" y="77.5961">Transaction</text><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacingAndGlyphs" textLength="56" x="805.2" y="90.6336">Processor</text><ellipse cx="835.6" cy="41.3625" fill="#ADD8E6" filter="url(#f1iep5vbz6tf0p)" rx="9.6" ry="9.6" style="stroke: #A80036; stroke-width: 1.6;"/><line style="stroke: #A80036; stroke-width: 1.6;" x1="826" x2="845.2" y1="52.5625" y2="52.5625"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacingAndGlyphs" textLength="31.2" x="816" y="522.1711">RBAC</text><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacingAndGlyphs" textLength="64.8" x="799.2" y="535.2086">Transaction</text><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacingAndGlyphs" textLength="56" x="805.2" y="548.2461">Processor</text><ellipse cx="835.6" cy="563.6875" fill="#ADD8E6" filter="url(#f1iep5vbz6tf0p)" rx="9.6" ry="9.6" style="stroke: #A80036; stroke-width: 1.6;"/><line style="stroke: #A80036; stroke-width: 1.6;" x1="826" x2="845.2" y1="574.8875" y2="574.8875"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacingAndGlyphs" textLength="61.6" x="880" y="90.6336">LS Inbound</text><ellipse cx="913.2" cy="67.4375" fill="#ADD8E6" filter="url(#f1iep5vbz6tf0p)" rx="9.6" ry="9.6" style="stroke: #A80036; stroke-width: 1.6;"/><line style="stroke: #A80036; stroke-width: 1.6;" x1="903.6" x2="922.8" y1="78.6375" y2="78.6375"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacingAndGlyphs" textLength="61.6" x="880" y="522.1711">LS Inbound</text><ellipse cx="913.2" cy="537.6125" fill="#ADD8E6" filter="url(#f1iep5vbz6tf0p)" rx="9.6" ry="9.6" style="stroke: #A80036; stroke-width: 1.6;"/><line style="stroke: #A80036; stroke-width: 1.6;" x1="903.6" x2="922.8" y1="548.8125" y2="548.8125"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacingAndGlyphs" textLength="72" x="954.4" y="90.6336">LS Outbound</text><ellipse cx="992.8" cy="67.4375" fill="#ADD8E6" filter="url(#f1iep5vbz6tf0p)" rx="9.6" ry="9.6" style="stroke: #A80036; stroke-width: 1.6;"/><line style="stroke: #A80036; stroke-width: 1.6;" x1="983.2" x2="1002.4" y1="78.6375" y2="78.6375"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacingAndGlyphs" textLength="72" x="954.4" y="522.1711">LS Outbound</text><ellipse cx="992.8" cy="537.6125" fill="#ADD8E6" filter="url(#f1iep5vbz6tf0p)" rx="9.6" ry="9.6" style="stroke: #A80036; stroke-width: 1.6;"/><line style="stroke: #A80036; stroke-width: 1.6;" x1="983.2" x2="1002.4" y1="548.8125" y2="548.8125"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacingAndGlyphs" textLength="16.8" x="1176.4" y="90.6336">???</text><ellipse cx="1187.2" cy="67.4375" fill="#FFA500" filter="url(#f1iep5vbz6tf0p)" rx="9.6" ry="9.6" style="stroke: #A80036; stroke-width: 1.6;"/><line style="stroke: #A80036; stroke-width: 1.6;" x1="1177.6" x2="1196.8" y1="78.6375" y2="78.6375"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacingAndGlyphs" textLength="16.8" x="1176.4" y="522.1711">???</text><ellipse cx="1187.2" cy="537.6125" fill="#FFA500" filter="url(#f1iep5vbz6tf0p)" rx="9.6" ry="9.6" style="stroke: #A80036; stroke-width: 1.6;"/><line style="stroke: #A80036; stroke-width: 1.6;" x1="1177.6" x2="1196.8" y1="548.8125" y2="548.8125"/><rect fill="#EEEEEE" filter="url(#f1iep5vbz6tf0p)" height="2.4" style="stroke: #EEEEEE; stroke-width: 0.8;" width="1268" x="2.4" y="117.7281"/><line style="stroke: #000000; stroke-width: 0.8;" x1="2.4" x2="1270.4" y1="117.7281" y2="117.7281"/><line style="stroke: #000000; stroke-width: 0.8;" x1="2.4" x2="1270.4" y1="120.1281" y2="120.1281"/><rect fill="#EEEEEE" filter="url(#f1iep5vbz6tf0p)" height="18.5063" style="stroke: #000000; stroke-width: 1.6;" width="63.2" x="604.8" y="109.275"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="48" x="609.6" y="122.1285">inbound</text><polygon fill="#A80036" points="295.6,149.4875,303.6,152.6875,295.6,155.8875,298.8,152.6875" style="stroke: #A80036; stroke-width: 0.8;"/><line style="stroke: #A80036; stroke-width: 0.8;" x1="149.2" x2="300.4" y1="152.6875" y2="152.6875"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7.2" x="154.8" y="148.6348">1</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacingAndGlyphs" textLength="126.4" x="165.2" y="148.6348">Create RBAC transaction</text><polygon fill="#A80036" points="509.2,172.7938,517.2,175.9938,509.2,179.1938,512.4,175.9938" style="stroke: #A80036; stroke-width: 0.8;"/><line style="stroke: #A80036; stroke-width: 0.8;" x1="305.2" x2="514" y1="175.9938" y2="175.9938"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7.2" x="310.8" y="171.941">2</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacingAndGlyphs" textLength="91.2" x="321.2" y="171.941">Hit REST endpoint</text><polygon fill="#A80036" points="826,196.1,834,199.3,826,202.5,829.2,199.3" style="stroke: #A80036; stroke-width: 0.8;"/><line style="stroke: #A80036; stroke-width: 0.8;" x1="518.8" x2="830.8" y1="199.3" y2="199.3"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7.2" x="524.4" y="195.2473">3</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacingAndGlyphs" textLength="151.2" x="534.8" y="195.2473">Initialize sawtooth transaction</text><polygon fill="#A80036" points="683.6,219.4063,691.6,222.6063,683.6,225.8063,686.8,222.6063" style="stroke: #A80036; stroke-width: 0.8;"/><line style="stroke: #A80036; stroke-width: 0.8;" x1="518.8" x2="688.4" y1="222.6063" y2="222.6063"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7.2" x="524.4" y="218.5535">4</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacingAndGlyphs" textLength="144.8" x="534.8" y="218.5535">Create sawtooth transaction</text><polygon fill="#A80036" points="314,242.7125,306,245.9125,314,249.1125,310.8,245.9125" style="stroke: #A80036; stroke-width: 0.8;"/><line style="stroke: #A80036; stroke-width: 0.8;" x1="309.2" x2="518" y1="245.9125" y2="245.9125"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7.2" x="318.8" y="241.8598">5</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacingAndGlyphs" textLength="184" x="329.2" y="241.8598">Return result of transaction creation</text><rect fill="#EEEEEE" filter="url(#f1iep5vbz6tf0p)" height="2.4" style="stroke: #EEEEEE; stroke-width: 0.8;" width="1268" x="2.4" y="268.7656"/><line style="stroke: #000000; stroke-width: 0.8;" x1="2.4" x2="1270.4" y1="268.7656" y2="268.7656"/><line style="stroke: #000000; stroke-width: 0.8;" x1="2.4" x2="1270.4" y1="271.1656" y2="271.1656"/><rect fill="#EEEEEE" filter="url(#f1iep5vbz6tf0p)" height="18.5063" style="stroke: #000000; stroke-width: 1.6;" width="72" x="600.4" y="260.3125"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="56.8" x="605.2" y="273.166">outbound</text><polygon fill="#A80036" points="983.2,300.525,991.2,303.725,983.2,306.925,986.4,303.725" style="stroke: #A80036; stroke-width: 0.8;"/><line style="stroke: #A80036; stroke-width: 0.8;" x1="693.2" x2="988" y1="303.725" y2="303.725"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7.2" x="698.8" y="299.6723">6</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacingAndGlyphs" textLength="220.8" x="709.2" y="299.6723">Get complete transaction from changefeed</text><polygon fill="#A80036" points="768,323.8313,760,327.0313,768,330.2313,764.8,327.0313" style="stroke: #A80036; stroke-width: 0.8;"/><line style="stroke: #A80036; stroke-width: 0.8;" x1="763.2" x2="992" y1="327.0313" y2="327.0313"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7.2" x="772.8" y="322.9785">7</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacingAndGlyphs" textLength="116.8" x="783.2" y="322.9785">Update relevant tables</text><polygon fill="#A80036" points="749.6,347.1375,757.6,350.3375,749.6,353.5375,752.8,350.3375" style="stroke: #A80036; stroke-width: 0.8;"/><line style="stroke: #A80036; stroke-width: 0.8;" x1="518.8" x2="754.4" y1="350.3375" y2="350.3375"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7.2" x="524.4" y="346.2848">8</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacingAndGlyphs" textLength="160.8" x="534.8" y="346.2848">Insert to outbound_queue table</text><polygon fill="#A80036" points="98.8,370.4438,90.8,373.6438,98.8,376.8438,95.6,373.6438" style="stroke: #A80036; stroke-width: 0.8;"/><line style="stroke: #A80036; stroke-width: 0.8;" x1="94" x2="758.4" y1="373.6438" y2="373.6438"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7.2" x="103.6" y="369.591">9</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacingAndGlyphs" textLength="233.6" x="114" y="369.591">Insert into LDAP server from outbound_queue</text><rect fill="#EEEEEE" filter="url(#f1iep5vbz6tf0p)" height="2.4" style="stroke: #EEEEEE; stroke-width: 0.8;" width="1268" x="2.4" y="396.4969"/><line style="stroke: #000000; stroke-width: 0.8;" x1="2.4" x2="1270.4" y1="396.4969" y2="396.4969"/><line style="stroke: #000000; stroke-width: 0.8;" x1="2.4" x2="1270.4" y1="398.8969" y2="398.8969"/><rect fill="#EEEEEE" filter="url(#f1iep5vbz6tf0p)" height="18.5063" style="stroke: #000000; stroke-width: 1.6;" width="48" x="612.4" y="388.0438"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="32.8" x="617.2" y="400.8973">TODO</text><polygon fill="#808080" points="43.2,428.2563,35.2,431.4563,43.2,434.6563,40,431.4563" style="stroke: #808080; stroke-width: 0.8;"/><line style="stroke: #808080; stroke-width: 0.8; stroke-dasharray: 2.0,2.0;" x1="38.4" x2="1186.4" y1="431.4563" y2="431.4563"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14.4" x="48" y="427.4035">10</text><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="32.8" x="65.6" y="427.4035">TODO</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacingAndGlyphs" textLength="114.4" x="98.4" y="427.4035">: Azure outbound sync</text><path d="M1107.2,441.8563 L1107.2,473.8563 L1263.2,473.8563 L1263.2,449.8563 L1255.2,441.8563 L1107.2,441.8563 " fill="#FFFFE0" filter="url(#f1iep5vbz6tf0p)" style="stroke: #A80036; stroke-width: 0.8;"/><path d="M1255.2,441.8563 L1255.2,449.8563 L1263.2,449.8563 L1255.2,441.8563 " fill="#FFFFE0" style="stroke: #A80036; stroke-width: 0.8;"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacingAndGlyphs" textLength="120" x="1112" y="455.5098">Need to prevent infinite</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacingAndGlyphs" textLength="139.2" x="1112" y="467.616">loops from RBAC providers.</text><polygon fill="#808080" points="1177.6,494.975,1185.6,498.175,1177.6,501.375,1180.8,498.175" style="stroke: #808080; stroke-width: 0.8;"/><line style="stroke: #808080; stroke-width: 0.8; stroke-dasharray: 2.0,2.0;" x1="992.8" x2="1182.4" y1="498.175" y2="498.175"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14.4" x="998.4" y="494.1223">11</text><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="32.8" x="1016" y="494.1223">TODO</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacingAndGlyphs" textLength="124.8" x="1048.8" y="494.1223">: Remote outbound sync</text><!--
@startuml architecture overview
autonumber
    hide stereotype
    scale 2

    skinparam database {
        BackgroundColor<< NEXT >> lightblue
        BorderColor<< NEXT >> darkblue
        BackgroundColor<< HYPERLEDGER >> lightgrey
        BorderColor<< HYPERLEDGER >> darkgrey
    }
    skinparam entity {
        BackgroundColor<< NEXT >> lightblue
        BorderColor<< NEXT >> darkblue
        BackgroundColor<< HYPERLEDGER >> Lightgrey
        BorderColor<< HYPERLEDGER >> darkgrey
    }
    skinparam boundary {
        BackgroundColor<<NEXT>> lightblue
        BorderColor<<NEXT>> darkblue
        BackgroundColor<<HYPERLEDGER>> Lightgrey
        BorderColor<<HYPERLEDGER>> darkgrey
    }

    boundary "Azure AD" as azure
    boundary "LDAP" as ldap
    actor "Basic User" as user
    boundary "RBAC Client" as client <<NEXT>>
    entity "RBAC \nREST API \nServer" as API <<NEXT>>
    boundary "Validator" as validator <<HYPERLEDGER>>
    database "RethinkDB" as rethink <<NEXT>>
    entity "RBAC \nTransaction \nProcessor" as tp <<NEXT>>
    entity "LS Inbound" as ls_in <<NEXT>>
    entity "LS Outbound" as ls_out <<NEXT>>
    entity "???" #orange

title RBAC NonProposals OutboundSync Sequence
== inbound ==
user -> client: Create RBAC transaction
client -> API: Hit REST endpoint
API -> tp: Initialize sawtooth transaction
API -> validator: Create sawtooth transaction
API -> client: Return result of transaction creation
== outbound ==
validator -> ls_out: Get complete transaction from changefeed
ls_out -> rethink: Update relevant tables
API -> rethink: Insert to outbound_queue table
rethink -> ldap: Insert into LDAP server from outbound_queue
== TODO ==
"???" - -[#grey]> azure: **TODO**: Azure outbound sync
note over "???" #lightyellow
    Need to prevent infinite
    loops from RBAC providers.
end note
ls_out - -[#grey]> "???": **TODO**: Remote outbound sync
@enduml

PlantUML version 1.2019.04(Fri Mar 29 08:44:36 PDT 2019)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.2+9-b159.34
Operating System: Linux
OS Version: 4.18.0-17-generic
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>